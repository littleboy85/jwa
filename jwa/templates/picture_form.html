{% extends "base.html" %}

{% block css %}
<link rel="stylesheet" href="/static/css/form.css" type="text/css"/>
{% endblock %}

{% block content %}
<form action=
  {% if form.instance and form.instance.id %}
    "/picture_edit?_id={{ form.instance.id }}" 
  {% else %}
    "/picture_edit?gallery_id={{ form.fields.gallery_id }}" 
  {% endif %}
  enctype="multipart/form-data" method="post">
  <div>
    {% if 'title' in form.errors %}
      <div class="error">{{ form.errors.title }}</div> 
    {% endif %}
    <label for="title">Title: </label>
    <input type="text" name="title" value="{{ form.fields.title }}"/>
  </div>
  <div>
    {% if 'author' in form.errors %}
      <div class="error">{{ form.errors.author }}</div> 
    {% endif %}
    <label for="author">Author: </label>
    <input type="text" name="author" value="{{ form.fields.author }}"/>
  </div>
  <div>
    <label>Use as porfolio icon: </label>
    <input type="checkbox" name="gallery_icon" value="true" 
      {% if form.fields.gallery_icon %}checked{% endif %}/>
  </div>
  <!--
  <div>
    <label for="width">Width: </label>
    <input type="text" name="width" value="{{ form.fields.width }}"/>
    <label for="height">Height: </label>
    <input type="text" name="height" readonly="true"
      value="{{ form.fields.height }}"/>
  </div>
  -->
  <div>
    <label>Media: </label>
    <input type="text" name="media" value="{{ form.fields.media }}"/>
  </div>
  <div>
    {% if 'price' in form.errors %}
      <div class="error">{{ form.errors.price }}</div> 
    {% endif %}
    <label>Price: </label>
    <input type="text" name="price" value="{{ form.fields.price or '' }}"/>
  </div>
  <div>
    <label>Original Available: </label>
    <input type="checkbox" name="original_available" value="true"
      {% if form.fields.original_available %}checked{% endif %}/>
  </div>
  <div>
    <label for="description">Description: </label>
    <textarea name="description" cols="40" rows="10"
      >{{ form.fields.description }}</textarea>
  </div>

  <div>
    {% if 'image' in form.errors %}
      <div class="error">{{ form.errors.image }}</div> 
    {% endif %}
    <label for="image">Image: </label>
    {% if form.instance and form.instance.image %}
      <div>
        <div>
          <label>Currently: </label>
          <a href="/picture?_id={{ form.instance.id }}">image</a>
        </div>
        <div>
          <label>Change: </label>
          <input type="file" name="image"/>
        </div>
      </div>
    {% else %}
      <input type="file" name="image"/>
    {% endif %}
  </div>
  <input type="hidden" name="gallery_id" value="{{ form.fields.gallery_id }}"/>
  {% if form.instance %}
    <input type="hidden" name="_id" value="{{ form.instance.id }}"/>
  {% endif %}
  <div>
    <a href=
      {% if form.instance and form.instance.id %}
      "/porfolio?_id={{ form.fields.gallery_id }}&picture_id={{ form.instance.id}}"
      {% else %}
      "/porfolio?_id={{ form.fields.gallery_id }}"
      {% endif %} class="button">Cancel</a>
    <input type="submit" class="button" value="Save"/>
  </div>
</form>
{% endblock %}

{% block script %}
{% endblock %}

